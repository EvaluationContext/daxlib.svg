---
comments: true
---

# Compound.Bar

Creates a Bar compound SVG Visual

<svg width='500' height='100' viewbox= '0 0 100 20' xmlns='http://www.w3.org/2000/svg'><rect x='42.5' y='90.9073202402207' width='7.66129032258065' height='7.09267975977926' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='50.2868852459016' y='95.1368284369421' width='7.66129032258065' height='2.86317156305795' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='58.0737704918033' y='97.406914461938' width='7.66129032258065' height='0.593085538061999' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='65.8606557377049' y='90.2314559324785' width='7.66129032258065' height='7.7685440675215' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='73.6475409836066' y='53.4260671968836' width='7.66129032258065' height='44.5739328031164' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='81.4344262295082' y='96.0912189579614' width='7.66129032258065' height='1.90878104203863' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='89.2213114754098' y='57.2577503652005' width='7.66129032258065' height='40.7422496347995' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='97.0081967213115' y='96.6877130335984' width='7.66129032258065' height='1.31228696640156' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='104.795081967213' y='52.8125304333712' width='7.66129032258065' height='45.1874695666288' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='112.581967213115' y='87.3780230482065' width='7.66129032258065' height='10.6219769517935' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='120.368852459016' y='92.2795000811557' width='7.66129032258065' height='5.72049991884434' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='128.155737704918' y='96.6010387924038' width='7.66129032258065' height='1.39896120759617' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='135.94262295082' y='59.4153546502191' width='7.66129032258065' height='38.5846453497809' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='143.729508196721' y='85.1498133419899' width='7.66129032258065' height='12.8501866580101' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='151.516393442623' y='86.0146080181789' width='7.66129032258065' height='11.9853919818211' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='159.303278688525' y='75.2153871124817' width='7.66129032258065' height='22.7846128875183' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='167.090163934426' y='95.0394416490829' width='7.66129032258065' height='2.96055835091705' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='174.877049180328' y='73.5578639831196' width='7.66129032258065' height='24.4421360168804' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='182.66393442623' y='88.5267002110047' width='7.66129032258065' height='9.47329978899529' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='190.450819672131' y='72.4651842233404' width='7.66129032258065' height='25.5348157766596' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='198.237704918033' y='88.4010712546664' width='7.66129032258065' height='9.59892874533355' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='206.024590163934' y='84.0240220743386' width='7.66129032258065' height='13.9759779256614' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='213.811475409836' y='86.4109722447655' width='7.66129032258065' height='11.5890277552345' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='221.598360655738' y='23.2984905047882' width='7.66129032258065' height='74.7015094952118' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='229.385245901639' y='94.243791592274' width='7.66129032258065' height='3.75620840772602' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='237.172131147541' y='90.5440675215062' width='7.66129032258065' height='7.45593247849375' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='244.959016393443' y='77.0749878266515' width='7.66129032258065' height='20.9250121733485' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='252.745901639344' y='68.004869339393' width='7.66129032258065' height='29.995130660607' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='260.532786885246' y='95.2040253205648' width='7.66129032258065' height='2.79597467943516' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='268.319672131148' y='65.1397500405778' width='7.66129032258065' height='32.8602499594222' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='276.106557377049' y='84.6726180814803' width='7.66129032258065' height='13.3273819185197' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='283.893442622951' y='81.9662392468755' width='7.66129032258065' height='16.0337607531245' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='291.680327868852' y='85.230644375913' width='7.66129032258065' height='12.769355624087' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='299.467213114754' y='87.9788995292972' width='7.66129032258065' height='10.0211004707028' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='307.254098360656' y='53.8175620840773' width='7.66129032258065' height='44.1824379159227' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='315.040983606557' y='95.924200616783' width='7.66129032258065' height='2.075799383217' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='322.827868852459' y='97.8178867067035' width='7.66129032258065' height='0.182113293296538' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='330.614754098361' y='93.2986528161013' width='7.66129032258065' height='4.70134718389872' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='338.401639344262' y='57.3127739003409' width='7.66129032258065' height='40.6872260996591' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='346.188524590164' y='93.5377373802954' width='7.66129032258065' height='4.46226261970459' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='353.975409836066' y='94.3635773413407' width='7.66129032258065' height='3.63642265865931' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='361.762295081967' y='91.2803116377212' width='7.66129032258065' height='6.71968836227884' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='369.549180327869' y='91.3776984255803' width='7.66129032258065' height='6.62230157441974' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='377.33606557377' y='84.8849212790131' width='7.66129032258065' height='13.1150787209869' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='385.122950819672' y='91.2851809771141' width='7.66129032258065' height='6.71481902288589' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='392.909836065574' y='97.78574906671' width='7.66129032258065' height='0.214250933290046' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='400.696721311475' y='92.2079207920792' width='7.66129032258065' height='5.79207920792079' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='408.483606557377' y='84.4223340366824' width='7.66129032258065' height='13.5776659633176' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='416.270491803279' y='78.6122382730076' width='7.66129032258065' height='19.3877617269924' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='424.05737704918' y='83.9295568901152' width='7.66129032258065' height='14.0704431098848' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='431.844262295082' y='94.5130660607044' width='7.66129032258065' height='3.48693393929557' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='439.631147540984' y='32.4148677162798' width='7.66129032258065' height='65.5851322837202' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='447.418032786885' y='2' width='7.66129032258065' height='96' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='455.204918032787' y='59.1699399448142' width='7.66129032258065' height='38.8300600551858' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='462.991803278689' y='93.1666937185522' width='7.66129032258065' height='4.83330628144782' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='470.77868852459' y='93.2962181464048' width='7.66129032258065' height='4.70378185359519' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='478.565573770492' y='49.8178867067035' width='7.66129032258065' height='48.1821132932965' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='486.352459016393' y='51.4763837039442' width='7.66129032258065' height='46.5236162960558' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='494.139344262295' y='95.6325271871449' width='7.66129032258065' height='2.36747281285506' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='501.926229508197' y='65.0735270248336' width='7.66129032258065' height='32.9264729751664' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='509.713114754098' y='78.7855867553968' width='7.66129032258065' height='19.2144132446032' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /> <rect x='517.5' y='84.5927609154358' width='7.66129032258065' height='13.4072390845642' rx='0' ry='0' fill='#118DFF' stroke-width='1'  /></svg>

=== "Syntax"

    ```dax
    DaxLib.SVG.Compound.Jitter( x, y, width, height, paddingX, paddingY, axisRef, measureRef, pointColor, jitterAmount )
    ```

    | Parameter | Type | Required | Description |
    |:---:|:---:|:---:|---|
    | x | <span class="type-label int64">INT64</span> | :material-check: | The x position of the compound |
    | y | <span class="type-label int64">INT64</span> | :material-check: | The y position of the compound |
    | width | <span class="type-label int64">INT64</span> | :material-check: | The width of the compound |
    | height | <span class="type-label int64">INT64</span> | :material-check: | The height of the compound |
    | paddingX | <span class="type-label number">DOUBLE</span> | :material-close: | The horizontal padding percentage (0.0-1.0, e.g., 0.1 = 10% padding) |
    | paddingY | <span class="type-label number">DOUBLE</span> | :material-close: | The vertical padding percentage (0.0-1.0, e.g., 0.1 = 10% padding) |
    | axisRef | <span class="type-label anyref">ANYREF</span> <span class="type-label expr">EXPR</span> | :material-check: | The column that the measure will be evaluated against |
    | measureRef | <span class="type-label numeric">NUMERIC</span> <span class="type-label expr">EXPR</span> | :material-check: | The measure to evaluate |
    | barColor | <span class="type-label string">STRING</span> | :material-check: | The Hex color of the bar (e.g., "#01B8AA") |

    <span class="type-label string">**STRING**</span> A Bar compound SVG Visual

=== "Example"

    ```dax hl_lines="5-18"
    DaxLib.SVG.SVG(
        500,
        100,
        BLANK(),
        DaxLib.SVG.Compound.Bar(
            0,                  // x
            0,                  // y
            500,                // width
            100,                // height
            0.05,               // paddingX
            0.02,               // paddingY
            Dates[Date],        // xAxis
            [Total Cost],       // measureRef
            DaxLib.SVG.Colour.Theme(
                "Power BI",
                25
            )                   // barColor
        ),
        BLANK()
    )
    ```

=== "Definition"

    ```dax
    function 'DaxLib.SVG.Compound.Bar' = 
		(
			x: INT64,
			y: INT64,
			width: INT64,
			height: INT64,
			paddingX: DOUBLE,
			paddingY: DOUBLE,
			axisRef: ANYREF EXPR,
			measureRef: NUMERIC EXPR,
			barColor: STRING
		) =>

			// Apply padding to dimensions
			VAR _X = 			x + (width * (IF(ISBLANK(paddingX), 0, paddingX) / 2))
			VAR _Y = 			y + (height * (IF(ISBLANK(paddingY), 0, paddingY) / 2))
			VAR _Width = 		width * (1 - IF(ISBLANK(paddingX), 0, paddingX))
			VAR _Height = 		height * (1 - IF(ISBLANK(paddingY), 0, paddingY))
		
			// Check if Axis is numeric
			VAR axisSample = 	MAX( axisRef )
			VAR axisIsNumeric = ISNUMERIC( axisSample ) || ISDATETIME( axisSample )
			
			// For totals
			VAR _Data = 
				ADDCOLUMNS(
					FILTER(
						VALUES( axisRef ),
						NOT ISBLANK( measureRef )
					),
					"@AxisIndex", 	
						IF(
							axisIsNumeric,
							axisRef,
							RANK( DENSE, CALCULATETABLE( VALUES( axisRef ), ALLSELECTED() ) )
						),
					"@Value", measureRef
				)
		
			// Define axis scales		
			VAR _XMin = 	MINX( _Data, [@AxisIndex] )
			VAR _XMax = 	MAXX( _Data, [@AxisIndex] )
			VAR _RawYMin = 	MINX( _Data, [@Value] )
			VAR _YMin = 	IF( _RawYMin > 0, 0, _RawYMin )
			VAR _YMax = 	MAXX( _Data, [@Value] )
		
			VAR _CountBars = CALCULATE(COUNT(axisRef), axisRef >= _XMin && axisRef <= _XMax)
			VAR _BarWidth = DIVIDE( 
				_Width, 
				_CountBars
				) 
		
		//Bars
		VAR _Bars = 
			CONCATENATEX(
				_Data,
				IF( 
					NOT ISBLANK( [@Value] ), 
					DaxLib.SVG.Element.Rect(
						DaxLib.SVG.Scale.Normalize( [@AxisIndex], _XMin, _XMax, _X, _X + _Width ),
						DaxLib.SVG.Scale.Normalize( [@Value], _YMin, _YMax, _Y + _Height, _Y ),
						_BarWidth,
						(_Y + _Height) - DaxLib.SVG.Scale.Normalize( [@Value], _YMin, _YMax, _Y + _Height, _Y ),
						0,
						0,
						DaxLib.SVG.Attr.Shapes(
							IF( NOT ISBLANK( barColor ), barColor, "#01B8AA" ),		// fill
							BLANK(),	// fillOpacity
							BLANK(),	// fillRule
							BLANK(), // stroke
							1,			// stroke
							BLANK(),	// strokeOpacity
							BLANK()		// opacity
						),
						BLANK()
					)
				),
				" ",
				[@AxisIndex],
				ASC
			)			
            
        RETURN
				
				IF( NOT ISEMPTY( _Data ), _Bars )
    ```